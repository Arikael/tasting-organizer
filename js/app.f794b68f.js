(function(e){function t(t){for(var r,a,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);b&&b(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},c=[];function a(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b1a41":"bcfdf1f3"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=a(e);var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}o[e]=void 0}};var s=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/tasting-organizer/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var b=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0e21":function(e,t,n){},"49f8":function(e,t,n){var r={"./de.json":"6ce2","./en.json":"edd4"};function o(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=c,e.exports=o,o.id="49f8"},"6ce2":function(e,t,n){"use strict";n.r(t),t["default"]={noPidError:e=>{const{normalize:t}=e;return t(['Du musst die Publish ID eines publizierten Google Spreedsheets als Query Parameter angeben\nz.b. "pid=[die pid]" '])},tastingTitle:e=>{const{normalize:t}=e;return t(["Tasting Resultate"])},tastingInfoTitle:e=>{const{normalize:t}=e;return t(["Auf eine Zeile klicken, um alle Bewertungen eines Weines zu sehen."])},tastingInfoLowDesc:e=>{const{normalize:t}=e;return t(["zeigt den tiefsten Wert einer Spalte an"])},tastingInfoHighDesc:e=>{const{normalize:t}=e;return t(["zeigt den höchsten Wert einer Spalte an"])},orange:e=>{const{normalize:t}=e;return t(["Orange"])},green:e=>{const{normalize:t}=e;return t(["Grün"])},Rank:e=>{const{normalize:t}=e;return t(["Rang"])},Wine:e=>{const{normalize:t}=e;return t(["Wein"])},WineNr:e=>{const{normalize:t}=e;return t(["WeinNr"])},Avg:e=>{const{normalize:t}=e;return t(["Avg"])},Median:e=>{const{normalize:t}=e;return t(["Median"])},Min:e=>{const{normalize:t}=e;return t(["Min"])},Max:e=>{const{normalize:t}=e;return t(["Max"])},AllScores:e=>{const{normalize:t}=e;return t(["Alle Bewertungen"])}}},aabb:function(e,t,n){var r={"./de":["215a","chunk-2d0b1a41"],"./de.js":["215a","chunk-2d0b1a41"],"./en-US":["5638"],"./en-US.js":["5638"]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="aabb",e.exports=o},ac59:function(e,t,n){"use strict";n("fe10")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o=Object(r["j"])("DE"),c=Object(r["j"])("EN");function a(e,t,n,a,i,u){var l=Object(r["E"])("q-toolbar-title"),s=Object(r["E"])("q-item-section"),b=Object(r["E"])("q-item"),d=Object(r["E"])("q-list"),f=Object(r["E"])("q-menu"),j=Object(r["E"])("q-btn"),O=Object(r["E"])("q-toolbar"),h=Object(r["E"])("q-header"),g=Object(r["E"])("Results"),p=Object(r["E"])("q-page"),m=Object(r["E"])("q-page-container"),v=Object(r["E"])("q-layout");return Object(r["x"])(),Object(r["h"])("div",null,[Object(r["k"])(v,{view:"lHh Lpr lFf"},{default:Object(r["I"])((function(){return[Object(r["k"])(h,{elevated:""},{default:Object(r["I"])((function(){return[Object(r["k"])(O,null,{default:Object(r["I"])((function(){return[Object(r["k"])(l,null,{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.$t("tastingTitle")),1)]})),_:1}),Object(r["k"])(j,{flat:"",round:"",dense:"",icon:"language"},{default:Object(r["I"])((function(){return[Object(r["k"])(f,{"auto-close":""},{default:Object(r["I"])((function(){return[Object(r["k"])(d,null,{default:Object(r["I"])((function(){return[Object(r["k"])(b,{clickable:""},{default:Object(r["I"])((function(){return[Object(r["k"])(s,{onClick:t[0]||(t[0]=function(t){return e.changeLanguage("de")})},{default:Object(r["I"])((function(){return[o]})),_:1})]})),_:1}),Object(r["k"])(b,{clickable:""},{default:Object(r["I"])((function(){return[Object(r["k"])(s,{onClick:t[1]||(t[1]=function(t){return e.changeLanguage("en-US")})},{default:Object(r["I"])((function(){return[c]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["k"])(m,null,{default:Object(r["I"])((function(){return[Object(r["k"])(p,{class:"q-pa-sm"},{default:Object(r["I"])((function(){return[Object(r["k"])(g)]})),_:1})]})),_:1})]})),_:1})])}n("ac1f"),n("1276"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("a15b");var i=function(e){return Object(r["A"])("data-v-2ec41097"),e=e(),Object(r["y"])(),e},u={class:"message-box info-box q-mb-md text-caption"},l=i((function(){return Object(r["i"])("br",null,null,-1)})),s={class:"text-left"};function b(e,t,n,o,c,a){var i=Object(r["E"])("q-badge"),b=Object(r["E"])("q-th"),d=Object(r["E"])("q-tr"),f=Object(r["E"])("q-td"),j=Object(r["E"])("result-cell"),O=Object(r["E"])("q-table");return Object(r["x"])(),Object(r["h"])(r["a"],null,[Object(r["J"])(Object(r["i"])("div",{class:"message-box error-box"},Object(r["F"])(e.$t("noPidError")),513),[[r["G"],!e.publishId]]),Object(r["J"])(Object(r["i"])("div",null,[Object(r["i"])("div",u,[Object(r["j"])(Object(r["F"])(e.$t("tastingInfoTitle")),1),l,Object(r["k"])(i,{color:"orange"},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.$t("orange")),1)]})),_:1}),Object(r["j"])(" "+Object(r["F"])(e.$t("tastingInfoLowDesc"))+", ",1),Object(r["k"])(i,{color:"green"},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.$t("green")),1)]})),_:1}),Object(r["j"])(" "+Object(r["F"])(e.$t("tastingInfoHighDesc")),1)]),Object(r["k"])(O,{title:"Pinot Noir Tasting",pagination:e.pagination,columns:e.columns,rows:e.rows,dense:e.$q.screen.lt.md,"table-header-class":"table-header"},{header:Object(r["I"])((function(t){return[Object(r["k"])(d,{props:t},{default:Object(r["I"])((function(){return[Object(r["k"])(b,{text:"",class:"text-right"},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.$t("Rank")),1)]})),_:1}),(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(t.cols,(function(n){return Object(r["x"])(),Object(r["g"])(b,{key:n.name,props:t},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.$t(n.label)),1)]})),_:2},1032,["props"])})),128))]})),_:2},1032,["props"])]})),body:Object(r["I"])((function(t){return[Object(r["k"])(d,{props:t,key:"m_".concat(t.row.index)},{default:Object(r["I"])((function(){return[Object(r["k"])(f,{class:"text-right rank-nr",onClick:function(e){return t.expand=!t.expand},icon:t.expand?"remove":"add"},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(t.pageIndex+1),1)]})),_:2},1032,["onClick","icon"]),(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(t.cols,(function(n){return Object(r["x"])(),Object(r["g"])(f,{key:n.name,props:t,onClick:function(e){return t.expand=!t.expand},icon:t.expand?"remove":"add"},{default:Object(r["I"])((function(){return[Object(r["k"])(j,{value:n.value,"high-score":e.results.highScores[n.name],"low-score":e.results.lowScores[n.name]},null,8,["value","high-score","low-score"])]})),_:2},1032,["props","onClick","icon"])})),128))]})),_:2},1032,["props"]),Object(r["J"])(Object(r["k"])(d,{props:t},{default:Object(r["I"])((function(){return[Object(r["k"])(f,{colspan:"100%"},{default:Object(r["I"])((function(){return[Object(r["i"])("div",s,Object(r["F"])(e.$t("AllScores"))+": "+Object(r["F"])(t.row.individualScores.join(", ")),1)]})),_:2},1024)]})),_:2},1032,["props"]),[[r["G"],t.expand]])]})),_:1},8,["pagination","columns","rows","dense"])],512),[[r["G"],e.publishId]])],64)}var d=n("b85c"),f=(n("2b3d"),n("841c"),n("369b")),j=n("2909"),O=n("d4ec"),h=(n("fb6a"),n("9129"),n("a9e3"),n("c740"),n("4e82"),n("4de4"),n("99af"),function e(){Object(O["a"])(this,e),this.headers=[],this.items=[],this.highScores={},this.lowScores={}});function g(e){var t=new h;t.headers=p(e.data);var n,r=k(e.data[0]),o=v(e.data[0]),c=m(t.headers),a=0,i=t.headers.length-r,u=Object(d["a"])(e.data.slice(1));try{for(u.s();!(n=u.n()).done;){for(var l=n.value,s=y(l,o,r),b=Object.assign({},c),f=0;f<s.length;f++)if(b[t.headers[f]]=s[f],f>=i&&null!==s[f]&&!Number.isNaN(s[f])){var j=t.headers[f],O=s[f];void 0==t.highScores[j]&&(t.highScores[j]=O),void 0==t.lowScores[j]&&(t.lowScores[j]=O),t.highScores[j]<O?t.highScores[j]=O:t.lowScores[j]>O&&(t.lowScores[j]=O)}b.individualScores=[],b.id=a,b.individualScores=w(l,o),t.items.push(b),a++}}catch(g){u.e(g)}finally{u.f()}return t}function p(e){var t=e[0],n=v(t),r=k(t);return y(t,n,r)}function m(e){var t,n={},r=Object(d["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o]=void 0}}catch(c){r.e(c)}finally{r.f()}return n}function v(e){return e.findIndex((function(e){return!e}))}function k(e){return e.findIndex((function(e){return"###"===e}))}function w(e,t){return e.filter((function(e){return e})).slice(t).sort((function(e,t){return e-t}))}function y(e,t,n){var r=e.slice(0,t);return[].concat(Object(j["a"])(r.slice(n+1)),Object(j["a"])(r.slice(0,n)))}function I(e,t,n,o,c,a){var i=Object(r["E"])("q-badge");return e.isScoreMatch?(Object(r["x"])(),Object(r["g"])(i,{key:0,color:e.cssScoreBadgeColor},{default:Object(r["I"])((function(){return[Object(r["j"])(Object(r["F"])(e.value),1)]})),_:1},8,["color"])):(Object(r["x"])(),Object(r["h"])(r["a"],{key:1},[Object(r["j"])(Object(r["F"])(e.value),1)],64))}var S=Object(r["l"])({name:"ResultCell",props:{highScore:Number,lowScore:Number,value:null},computed:{isScoreMatch:function(){return null!==this.value&&!Number.isNaN(this.value)&&(this.value===this.highScore||this.value==this.lowScore)},cssScoreBadgeColor:function(){return Number.isNaN(this.value)?"":this.value===this.highScore?"green":this.value===this.lowScore?"orange":""}}}),x=n("58a8"),_=n("93dc"),z=n.n(_);S.render=I;var E=S;z()(S,"components",{QBadge:x["a"]});var T={defaultSort:"Avg"},P=Object(r["l"])({name:"Results",components:{ResultCell:E},data:function(){return{publishId:"",results:new h,pagination:{sortBy:T.defaultSort,descending:!0,rowsPerPage:100},columns:[],rows:[],bestOfThree:[]}},computed:{},created:function(){var e=this,t=new URLSearchParams(window.location.search);if(this.publishId=t.get("pid"),this.publishId){var n="https://docs.google.com/spreadsheets/d/e/".concat(this.publishId,"/pub?single=true&output=csv");f["parse"](n,{download:!0,header:!1,dynamicTyping:!0,error:function(e){console.log(e)},complete:function(t){e.results=g(t);var n,r=Object(d["a"])(e.results.headers);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.columns.push({name:o,label:o,field:o,sortable:!0})}}catch(c){r.e(c)}finally{r.f()}e.rows=e.results.items}})}}}),q=(n("ac59"),n("eaac")),N=n("bd08"),C=n("357e"),M=n("db86");P.render=b,P.__scopeId="data-v-2ec41097";var Q=P;z()(P,"components",{QBadge:x["a"],QTable:q["a"],QTr:N["a"],QTh:C["a"],QTd:M["a"]});var F=n("b3fe"),L=Object(r["l"])({name:"LayoutDefault",components:{Results:Q},setup:function(){var e,t,o,c,a=Object(F["a"])(),i=Object(r["C"])(a.lang.isoName),u=null===(e=Object(r["m"])())||void 0===e||null===(t=e.appContext)||void 0===t||null===(o=t.config)||void 0===o||null===(c=o.globalProperties)||void 0===c?void 0:c.$i18n;return Object(r["H"])(i,(function(e){u.locale=e.toLowerCase().split("-")[0],n("aabb")("./"+e).then((function(e){a.lang.set(e.default)}))})),{lang:i}},mounted:function(){this.lang=navigator.language},methods:{changeLanguage:function(e){this.lang=e}}}),D=n("4d5a"),A=n("e359"),$=n("65c6"),R=n("6ac5"),W=n("9c40"),B=n("4e73"),U=n("1c1c"),G=n("66e5"),H=n("4074"),J=n("09e3"),Z=n("9989");L.render=a;var K=L;z()(L,"components",{QLayout:D["a"],QHeader:A["a"],QToolbar:$["a"],QToolbarTitle:R["a"],QBtn:W["a"],QMenu:B["a"],QList:U["a"],QItem:G["a"],QItemSection:H["a"],QPageContainer:J["a"],QPage:Z["a"]});var V=n("b05d"),X=(n("0e21"),n("e54f"),{config:{},plugins:{}}),Y=(n("159b"),n("466d"),n("47e2"));function ee(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var o=r[1];t[o]=e(n).default}})),t}var te=Object(Y["a"])({legacy:!1,globalInjection:!0,locale:navigator.language.split("-")[0]||"en",fallbackLocale:"de",messages:ee()});Object(r["f"])(K).use(te).use(V["a"],X).mount("#app")},edd4:function(e,t,n){"use strict";n.r(t),t["default"]={noPidError:e=>{const{normalize:t}=e;return t(['you need to add the publish id of a published google spreadsheet as query parameter like "pid=[the pid]" '])},tastingTitle:e=>{const{normalize:t}=e;return t(["Tasting results"])},tastingInfoTitle:e=>{const{normalize:t}=e;return t(["Click on a row to display all scores for a wine."])},tastingInfoLowDesc:e=>{const{normalize:t}=e;return t(["denotes the lowest score of a column"])},tastingInfoHighDesc:e=>{const{normalize:t}=e;return t(["denotes the highest score of a column"])},orange:e=>{const{normalize:t}=e;return t(["Orange"])},green:e=>{const{normalize:t}=e;return t(["Green"])},Rank:e=>{const{normalize:t}=e;return t(["rank"])},Wine:e=>{const{normalize:t}=e;return t(["wine"])},WineNr:e=>{const{normalize:t}=e;return t(["wineNr"])},Avg:e=>{const{normalize:t}=e;return t(["avg"])},Median:e=>{const{normalize:t}=e;return t(["median"])},Min:e=>{const{normalize:t}=e;return t(["min"])},Max:e=>{const{normalize:t}=e;return t(["max"])},AllScores:e=>{const{normalize:t}=e;return t(["All scores"])}}},fe10:function(e,t,n){}});
//# sourceMappingURL=app.f794b68f.js.map